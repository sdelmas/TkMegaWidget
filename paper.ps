%!PS-Adobe-3.0
%%Creator: groff version 1.09
%%CreationDate: Thu Aug  3 08:41:30 1995
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%DocumentSuppliedResources: procset grops 1.09 0
%%Pages: 2
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.09 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll 
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 12/Times-Bold@0 SF(Writing Tk W)160.23 123 Q(idgets with the MegaW)
-.216 E(idget \(Draft\))-.216 E/F1 10/Times-Italic@0 SF
(Sven Delmas \(gar\214eld@cs.tu-berlin.de\))208.415 147 Q(ABSTRA)264.535
195 Q(CT)-.3 E/F2 10/Times-Roman@0 SF 1.98(The TkMe)133 222.6 R -.05(ga)
-.15 G -.4(Wi).05 G 1.98(dget package presented in this paper allo).4 F
1.98(ws the combination of)-.25 F -.15(ex)108 234.6 S 1.103
(isting Tk widgets to from a more po).15 F 1.103
(werful widget. These widgets can of)-.25 F 1.103(fer a higher)-.25 F
(le)108 246.6 Q -.15(ve)-.25 G 2.96(lf).15 G .459
(unctionality which is composed by a collection of widgets, ne)-2.96 F
2.959(wT)-.25 G .459(cl functions, and)-2.959 F .287
(the abilities of the Me)108 258.6 R -.05(ga)-.15 G -.4(Wi).05 G .287
(dget. The ne).4 F 2.787(ww)-.25 G .287(idgets beha)-2.787 F .587 -.15
(ve ex)-.2 H .287(actly lik).15 F 2.787(eas)-.1 G .288(tandard Tk wid-)
-2.787 F(get, which means the)108 270.6 Q 2.5(yh)-.15 G -2.25 -.2(av e)
-2.5 H(options, minor commands etc..)2.7 E/F3 10/Times-Bold@0 SF 2.5
(1. Intr)72 306.6 R(oduction)-.18 E F2 1.035
(While it is possible to create some kind of)97 322.2 R(me)72 334.2 Q
-.05(ga)-.15 G 3.286(widget completely with Tcl/Tk, there are)-.1 F(se)
72 346.2 Q -.15(ve)-.25 G 1.084
(ral problems with this approach. There is no).15 F 1.489
(support for a modularization of the code, so the)72 358.2 R(me)72 370.2
Q -.05(ga)-.15 G 1.16(widget code will mix with the application')-.1 F
(s)-.55 E 3.876(code \(procedures and v)72 382.2 R 3.876
(ariables\). Writing ne)-.25 F(w)-.25 E .332(minor commands for the me)
72 394.2 R -.05(ga)-.15 G .331(widget can become)-.1 F 4.461(ac)72 406.2
S(omple)-4.461 E 4.461(xt)-.15 G 1.961
(ask, and can also reduce the speed.)-4.461 F 3.046
(This is also the case for ne)72 418.2 R 5.546(ww)-.25 G 3.046
(idget options,)-5.546 F .274
(which require additional code, too, and also cause)72 430.2 R 3.798(as)
72 442.2 S(lo)-3.798 E 3.797(wd)-.25 G -.25(ow)-3.797 G 3.797(no).25 G
3.797(ft)-3.797 G 1.297(he application \(especially when)-3.797 F(man)72
454.2 Q 2.5(yo)-.15 G(ptions are added\).)-2.5 E .368(The solution I ha)
72 478.2 R .669 -.15(ve c)-.2 H .369(hosen is the TkMe).15 F -.05(ga)
-.15 G -.4(Wi).05 G(dget.).4 E 1.969
(This is mainly a Tk frame widget, with a little)72 490.2 R
(additional functionality which allo)72 502.2 Q(ws:)-.25 E 21.5<834d>72
529.8 S(inor commands)-21.5 E 21.5<8357>72 545.4 S(idget options)-21.9 E
21.5<8350>72 561 S(ri)-21.5 E -.25(va)-.25 G(te interpreters).25 E 21.5
<834c>72 576.6 S(ocal widget trees)-21.5 E 21.5<8343>72 592.2 S
(ode encrypting)-21.5 E 3.389
(All this is done in C, so the performance is)72 619.8 R 3.005
(acceptable \(compared to a plain Tcl solution\).)72 631.8 R 3.236
(The idea is to allo)72 643.8 R -5.736 5.736(wa \215)-.25 H -.15(ex)
-5.736 G 3.237(ible and po).15 F(werful)-.25 E(de)72 655.8 Q -.15(ve)
-.25 G 5.102(lopment of comple).15 F 7.602(xT)-.15 G 5.102
(cl based widgets.)-7.602 F -.8(To)72 667.8 S .908(gether with small e)
.8 F .909(xtensions written in C, it is)-.15 F .526
(possible to write po)72 679.8 R .526(werful, yet \215e)-.25 F .525
(xible widgets in)-.15 F 2.5(av)72 691.8 S(ery short period of time.)
-2.65 E F3 2.5(2. A)302.4 306.6 R(small example)2.5 E F2 3.714
(This chapter describes the small widget)327.4 322.2 R 2.443(named tkme)
302.4 334.2 R -.05(ga)-.15 G 2.443(count which you can \214nd in the).05
F(./demo.TkMe)302.4 346.2 Q -.05(ga)-.15 G -.4(Wi).05 G 6.143
(dget directory).4 F 8.643(.T)-.65 G 6.144(his widget)-8.643 F 6.43
(implements an interactor which allo)302.4 358.2 R 6.43(ws the)-.25 F
.571(increasing and decreasing of an inte)302.4 370.2 R .572(ger v)-.15
F .572(alue dis-)-.25 F 1.87(played in the center \(I kno)302.4 382.2 R
4.37(wt)-.25 G 1.87(hat this is a v)-4.37 F(ery)-.15 E(simple e)302.4
394.2 Q(xample...\).)-.15 E 2.66(The public part of a TkMe)302.4 418.2 R
-.05(ga)-.15 G -.4(Wi).05 G 2.66(dget widget is).4 F .736
(mainly the procedure that is used to create a ne)302.4 430.2 R(w)-.25 E
2.45(widget instance. This procedure is named after)302.4 442.2 R 5.072
(the widget class in lo)302.4 454.2 R 5.071(wer case letters \(e.g.)-.25
F(me)302.4 466.2 Q -.05(ga)-.15 G 3.357
(count\). The command gets the ne).05 F 5.857(wp)-.25 G(ath)-5.857 E
.447(name as \214rst ar)302.4 478.2 R .447
(gument. This path name is used to)-.18 F 3.881(create a ne)302.4 490.2
R 6.382(ww)-.25 G 3.882(idget instance. The remaining)-6.382 F(ar)302.4
502.2 Q 1.045(guments are the standard Tk parameter options)-.18 F
(for the widget.)302.4 514.2 Q 1.655(The pri)302.4 538.2 R -.25(va)-.25
G 1.655(te part implements the appearance and).25 F 2.652
(the functionality of the ne)302.4 550.2 R 5.151(ww)-.25 G 2.651
(idget. There are)-5.151 F .917(commands that are e)302.4 562.2 R .918
(xported to the user as minor)-.15 F 2.91
(commands, and other commands that are only)302.4 574.2 R 2.813
(used internally)302.4 586.2 R 5.313(.I)-.65 G 5.314(fy)-5.313 G 2.814
(ou decide to use a pri)-5.314 F -.25(va)-.25 G(te).25 E(interpreter)
302.4 598.2 Q 4.885(,t)-.4 G 2.385(hese tw)-4.885 F 4.884(op)-.1 G 2.384
(arts run in tw)-4.884 F 4.884(os)-.1 G(eparate)-4.884 E(interpreters.)
302.4 610.2 Q F3 2.5(3. The)302.4 646.2 R(cr)2.5 E(eating pr)-.18 E
(ocedur)-.18 E(e)-.18 E F2 2.496
(The creating procedure is responsible for)327.4 661.8 R 1.182
(creating a ne)302.4 673.8 R 3.682(ww)-.25 G 1.181
(idget instance. First, the widget)-3.682 F 1.423
(options are de\214ned. These options can be publi-)302.4 685.8 R 1.689
(cally a)302.4 697.8 R -.25(va)-.2 G 1.688
(ilable options or internal options. After).25 F 1.753
(adding them, the subwidget structure is created.)302.4 709.8 R 2.306
(The subwidgets should ha)302.4 721.8 R 2.606 -.15(ve a n)-.2 H 2.305
(ame that starts).15 F EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-2-)282.17 48 Q .85
(with "cb", so that CIMBuilder ignores them. The)72 84 R .832
(widgets are arranged with the adequate geometry)72 96 R(manager)72 108
Q 4.415(,a)-.4 G 1.915(nd the required bindings are applied.)-4.415 F
.55(Then the widget')72 120 R 3.05(sc)-.55 G .55
(on\214guring procedure is called)-3.05 F 3.213(\(this procedure is e)72
132 R 3.214(xplained later\). Finally the)-.15 F 2.217
(minor commands are added to the widget. The)72 144 R .309
(procedure returns the path name of the ne)72 156 R .309(wly cre-)-.25 F
(ated widget.)72 168 Q .651(If you decide to use a pri)72 192 R -.25(va)
-.25 G .651(te interpreter it mak).25 F(es)-.1 E 2.231(sense to k)72 204
R 2.231(eep the public procedure as small as)-.1 F 3.71
(possible. In that case the special me)72 216 R -.05(ga)-.15 G(widget)
-.1 E .831(option -createcommand can be used to call a pri-)72 228 R
-.25(va)72 240 S 1.246(te create procedure as if it e).25 F 1.245
(xists in the global)-.15 F(interpreter)72 252 Q(.)-.55 E/F1 10
/Times-Bold@0 SF 2.5(4. The)72 288 R(con\214guring pr)2.5 E(ocedur)-.18
E(e)-.18 E F0 .827(The con\214guring procedure is used to apply)97 303.6
R .154(changes to the widget options. The procedure gets)72 315.6 R
1.105(the path name, the resource name, the old v)72 327.6 R(alue,)-.25
E 1.764(and the ne)72 339.6 R 4.264(wv)-.25 G 1.764
(alue as parameters. Here you can)-4.514 F 1.279
(add code that handles the widget options, so the)72 351.6 R(ne)72 363.6
Q 3.949(wv)-.25 G 1.449(alues are applied to the widget \(e.g. when)
-4.199 F(you set the -background option\).)72 375.6 Q F1 2.5(5. Minor)72
411.6 R(commands)2.5 E F0 1.602(Minor commands are implemented by Tcl)97
427.2 R 1.479(procedures that get the path name and the ar)72 439.2 R
(gu-)-.18 E 1.279(ments passed to the call of the minor command.)72
451.2 R .365(Internal widget functions should only be accessed)72 463.2
R 2.606(via minor commands. When you use a pri)72 475.2 R -.25(va)-.25 G
(te).25 E(interpreter)72 487.2 Q 4.565(,t)-.4 G 2.065(his mak)-4.565 F
2.065(es it possible to completely)-.1 F
(hide implementation details from the user)72 499.2 Q(.)-.55 E F1 2.5
(6. Global)72 535.2 R -.1(va)2.5 G(riables).1 E F0 .797(Global v)97
550.8 R .797(ariables should be k)-.25 F .797(ept in a global)-.1 F
1.107(array with a unique \(widget speci\214c\) name. This)72 562.8 R
(mak)72 574.8 Q .36(es it easy to pre)-.1 F -.15(ve)-.25 G .36
(nt name collisions. In a pri-).15 F -.25(va)72 586.8 S 1.627
(te interpreter).25 F 4.127(,t)-.4 G 1.626(his is not that important, b)
-4.127 F 1.626(ut it)-.2 F(still is a good idea to do it.)72 598.8 Q F1
2.5(7. Tk)72 634.8 R(support)2.5 E F0 .857(There are tw)97 650.4 R 3.357
(ow)-.1 G .857(ays of handling widgets in)-3.457 F 3.439(aM)72 662.4 S
-2.25 -.15(eg a)-3.439 H -.4(Wi).15 G .939
(dget widget. If you choose to use only).4 F .153
(one global widget tree \(use the -tksupport option\),)72 674.4 R 1.836
(all widgets are added to the global widget tree.)72 686.4 R 2.414
(This means that the subwidget structure of the)72 698.4 R(ne)72 710.4 Q
2.5(ww)-.25 G(idget is part of the application.)-2.5 E 1.553
(If you decide to use a local widget tree in your)302.4 84 R 2.606
(local interpreter)302.4 96 R 5.106(,t)-.4 G 2.607
(he subwidget structure is not)-5.106 F 1.906
(added to the global widget tree. Instead a local)302.4 108 R .24
(widget tree is used. The local interpreter will con-)302.4 120 R .562
(tain a tople)302.4 132 R -.15(ve)-.25 G 3.061(lw).15 G(indo)-3.061 E
3.061(w\()-.25 G .561(that is embedded into the)-3.061 F 1.627
(global widget tree\), that has the name \(only the)302.4 144 R
(name, not the widget path\) of the widget.)302.4 156 Q F1 2.5
(8. Security)302.4 192 R F0 -.8(We)327.4 207.6 S 3.559
(ll, the security that I can of).8 F 3.558(fer with)-.25 F(TkMe)302.4
219.6 Q -.05(ga)-.15 G -.4(Wi).05 G 1.023(dget is not v).4 F 1.024
(ery high. It is possible to)-.15 F .772
(encrypt the code, and to de\214ne a k)302.4 231.6 R 1.072 -.15(ey t)-.1
H .772(hat is used).15 F .05(to decrypt the code. Y)302.4 243.6 R .05
(ou can change the k)-1.1 F .35 -.15(ey i)-.1 H 2.55(nt).15 G(he)-2.55 E
1.154(source \(look for the function des_string_to_k)302.4 255.6 R -.15
(ey)-.1 G(\).).15 E 2.597(Of course, there are w)302.4 267.6 R 2.598
(ays to retrie)-.1 F 2.898 -.15(ve t)-.25 H 2.598(he code).15 F .881
(and/or the k)302.4 279.6 R -.15(ey)-.1 G 3.381(,s)-.5 G 3.381(ot)-3.381
G .881(his is only a w)-3.381 F .881(ay to pre)-.1 F -.15(ve)-.25 G .88
(nt a).15 F -.1(fa)302.4 291.6 S .526
(st access to the code. If someone is really inter).1 F(-)-.2 E 1.912
(ested in g)302.4 303.6 R 1.911(aining access to the code, he/she will)
-.05 F .804(\214nd a w)302.4 315.6 R .804(ay \(if someone kno)-.1 F .805
(ws a good solution to)-.25 F(pre)302.4 327.6 Q -.15(ve)-.25 G
(nt this, please let me kno).15 E(w\).)-.25 E 3.63 -.8(To p)302.4 351.6
T(re).8 E -.15(ve)-.25 G 2.03(nt the sending of Tcl/Tk commands to).15 F
1.324(the local interpreter via send \(in case Tk is sup-)302.4 363.6 R
6.162(ported\), simply remo)302.4 375.6 R 6.462 -.15(ve t)-.15 H 6.162
(he send command).15 F 1.47
(\(rename send {}\). This also means that you can)302.4 387.6 R
(no longer send commands to other interpreters.)302.4 399.6 Q F1 2.5
(9. A)302.4 435.6 R(big example)2.5 E F0 2.996(Im)327.4 451.2 S .496
(ust admit that I ha)-2.996 F .795 -.15(ve n)-.2 H .495
(ot had much time).15 F 1.058(to write this paper)302.4 463.2 R 3.559
(.T)-.55 G 1.059(here is an application a)-3.559 F -.25(va)-.2 G(il-).25
E 2.62(able that uses the TkMe)302.4 475.2 R -.05(ga)-.15 G -.4(Wi).05 G
2.62(dget. It is named).4 F .261(TkIcon and should be a)302.4 487.2 R
-.25(va)-.2 G .261(ilable at the standard ftp).25 F(serv)302.4 499.2 Q
.326(ers. This application is a desktop / graph wid-)-.15 F 1.323
(get written in Tcl \(with small e)302.4 511.2 R 1.323
(xtensions written)-.15 F .765(in C\). T)302.4 523.2 R(ak)-.8 E 3.264
(eal)-.1 G .764(ook into the code to see ho)-3.264 F 3.264(wIu)-.25 G
(se)-3.264 E 2.782(the TkMe)302.4 535.2 R -.05(ga)-.15 G -.4(Wi).05 G
2.782(dget. The basic mechanisms are).4 F
(the same as described in the small e)302.4 547.2 Q(xample.)-.15 E F1
2.5(10. A)302.4 583.2 R -.1(va)-1 G(ilability).1 E F0 2.94
(The complete package contains the code)327.4 598.8 R 3.612
(that implements the ne)302.4 610.8 R 6.112(wm)-.25 G -2.25 -.15(eg aw)
-6.112 H 3.612(idget\(n\) com-).15 F .513
(mand. The package is named TkMe)302.4 622.8 R -.05(ga)-.15 G -.4(Wi).05
G .513(dget and).4 F(is a)302.4 634.8 Q -.25(va)-.2 G(ilable at:).25 E
(ftp.aud.alcatel.com)327.4 650.4 Q(\(pub/tcl/e)327.4 666 Q
(xtensions/TkMe)-.15 E -.05(ga)-.15 G -.4(Wi).05 G(dget?.?.tar).4 E
(.gz\),)-.55 E(where ?.? is the current v)302.4 681.6 Q(ersion.)-.15 E
EP
%%Trailer
end
%%EOF
